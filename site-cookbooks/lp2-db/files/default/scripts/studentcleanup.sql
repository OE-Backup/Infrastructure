begin transaction;
delete from AccountChange where account_id in (select id from Account where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21'));
delete from Account where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from ContactData where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from Activation where contactId in (select contactId from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from PersonCourse where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from PersonUnitProgression where personProgression_id in (select id from PersonProgression where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21'));
delete from PersonProgression where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from StudyBundleCourse where studyBundle_id in (select id from StudyBundle where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21'));
delete from StudyBundle where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from Address where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from AssetCache where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from Assets where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from ContactMethod where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from CourseRating where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from CurrentDisplayedCourse where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from Invitation where sentByPerson_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from LessonChat where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from LessonError where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from LiveClassHistory where student_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from LiveClassRequest where student_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from LiveClassSignup where student_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');

delete from FeedbackResponseAsset where feedbackResponse_id in (select id from feedbackResponse where feedbackRequest_id in (select id from feedbackRequest where student_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21')));
delete from FeedbackResponse where feedbackRequest_id in (select id from feedbackRequest where student_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21'));
delete from FeedbackRequest where student_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');


delete from LoggedInUserInfo where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from notes where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from Notification where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from PersonAttendingLiveClass where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from PersonProfileAnswer where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from Phone where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from PlacementQuestionAnswer where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from PlacementTest where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from Reminder where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from StoryDetractor where detractorId in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from StorySupporter where supporterId in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from Story where submitterPersonId in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from StudentHelpPages where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from SurveyProfileQuestionGroups where survey_id in (select id from Survey where student_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21'));
delete from Survey where student_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from AssessmentResults where assessment_id in (select id from Assessment where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21'));
delete from Assessment where person_id in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from PaymentMethod where PaymentMethod.paymentDetailId in(select id from PaymentDetail where personId in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21'));
delete from PaymentDetail where personId in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from PaymentHistory where personId in (select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from PurchaseSummary where personId in(select id from person WHERE roleTypeId = 1 and activationDate > '2013-05-21');
delete from Person WHERE roleTypeId = 1 and activationDate > '2013-05-21';
